# 🚀 비트코인 스캘핑 자동매매 프로그램

가상화폐(비트코인) 스캘핑 전략 기반 자동매매 시뮬레이터

> 🆕 **v2.0 비트코인 최적화 업데이트** - 비트코인 변동성과 트렌드 특성을 반영한 알고리즘

## ✨ 주요 기능

### 📊 스캘핑 전략 알고리즘 (비트코인 최적화)

이 프로그램은 **비트코인 특성에 최적화된 스캘핑 전략**을 기반으로 설계되었습니다:

#### 1. **매수 조건** (복합 시그널)

- ✅ RSI가 **35~55 구간** (비트코인 과매도 탈출 + 트렌드 고려)
- ✅ RSI 상승 추세
- ✅ 거래량이 평균의 **1.2배 이상** 급증 (높은 유동성 반영)
- ✅ 가격이 5일 이동평균선 위에 위치
- ✅ 양봉 발생 (상승 모멘텀)

#### 2. **매도 조건** (3가지 자동 실행)

**🟢 익절 (Take Profit)**

- 매수가 대비 **+3.0%** 수익 달성 시 자동 매도 (비트코인 트렌드 활용)
- 수익을 확정하여 안정적인 수익 추구

**🔴 손절 (Stop Loss)**

- 매수가 대비 **-2.0%** 손실 발생 시 자동 매도 (변동성 고려)
- 큰 손실 방지 및 리스크 관리

**🟡 시그널 매도**

- RSI > **80** (과매수) 도달 시 자동 매도 (강한 추세 지속 반영)
- 추세 전환 전 선제적 대응

#### 3. **기술적 지표**

- **RSI (14)**: 과매수/과매도 판단
- **이동평균선**: 5일(초단기), 20일(단기)
- **볼린저 밴드**: 변동성 및 가격 위치 분석
- **거래량**: 매수세 강도 확인

---

## 🆚 버전별 알고리즘 비교

### 기존 코드 → v1.0 → v2.0 (비트코인 최적화)

| 항목            | 기존 코드          | v1.0 개선          | **v2.0 BTC 최적화**     |
| --------------- | ------------------ | ------------------ | ----------------------- |
| **전략**        | 중장기 트렌드 추종 | 스캘핑 (초단타)    | ✅ BTC 스캘핑 최적화    |
| **손절**        | ❌ 없음            | -1.5% 자동 손절    | ✅ **-2.0%** (변동성)   |
| **익절**        | ❌ 없음            | +2.0% 자동 익절    | ✅ **+3.0%** (트렌드)   |
| **RSI 매수**    | > 55               | 30-50 구간         | ✅ **35-55** 구간       |
| **RSI 매도**    | < 45               | > 75 과매수        | ✅ **> 80** 과매수      |
| **거래량 기준** | ❌ 없음            | 평균 1.3배 이상    | ✅ **1.2배** 이상       |
| **수수료**      | ❌ 미반영          | 0.05% 반영         | ✅ 0.05% 반영           |
| **볼린저밴드**  | ❌ 없음            | 변동성 분석        | ✅ 변동성 분석          |
| **체크 주기**   | 60초               | 10초 (빠른 대응)   | ✅ 10초 (빠른 대응)     |
| **통계 기능**   | ❌ 없음            | 승률, 수익률 추적  | ✅ 승률, 수익률 추적    |
| **이동평균**    | 10일, 34일         | 5일, 20일 (스캘핑) | ✅ 5일, 20일 (스캘핑)   |
| **상태 출력**   | 60초마다           | 30초마다           | ✅ **매 10초** 상세출력 |

---

## 📦 설치 및 실행

### 1. 필수 패키지 설치

```bash
pip install -r requirements.txt
```

### 2. 환경 변수 설정 (.env 파일)

```env
UPBIT_ACCESS_KEY=your_access_key_here
UPBIT_SECRET_KEY=your_secret_key_here
```

> ⚠️ **주의**: 현재는 모의 거래 모드로 설정되어 있습니다.

### 3. 프로그램 실행

```bash
python main.py
```

---

## ⚙️ 파라미터 조정

`main.py` 파일의 207~209번 라인에서 설정 변경 가능:

```python
ticker = "KRW-BTC"  # 거래할 코인
stop_loss = 2.0     # 손절 비율 (2.0%) - 비트코인 최적화
take_profit = 3.0   # 익절 비율 (3.0%) - 비트코인 최적화
```

### 코인별 추천 설정

#### 🟠 비트코인 (BTC) - 현재 설정 ⭐

| 손절 | 익절 | RSI 매수 | RSI 매도 | 거래량 | 특징                     |
| ---- | ---- | -------- | -------- | ------ | ------------------------ |
| 2.0% | 3.0% | 35-55    | > 80     | 1.2배  | 변동성 중간, 트렌드 강함 |

#### 💰 알트코인 (ETH, XRP 등)

| 손절 | 익절 | RSI 매수 | RSI 매도 | 거래량 | 특징                     |
| ---- | ---- | -------- | -------- | ------ | ------------------------ |
| 2.5% | 4.0% | 30-60    | > 75     | 1.5배  | 변동성 높음, 급등락 잦음 |

#### 🟢 보수적 운영 (안정 추구)

| 손절 | 익절 | RSI 매수 | RSI 매도 | 거래량 | 특징                 |
| ---- | ---- | -------- | -------- | ------ | -------------------- |
| 1.5% | 2.0% | 40-50    | > 75     | 1.3배  | 낮은 위험, 빠른 익절 |

---

## 📈 출력 예시 (v2.0 비트코인 최적화)

### 대기 중 (매 10초마다 상세 출력)

```
============================================================
[2025-10-10 14:23:15] ⏳ 대기중 - 매수 시그널 감지 중... (BTC 최적화)
   현재가: 85,234,000원 | RSI: 42.5 ⚪중립
   거래량비: 1.25x | 매수조건 충족: 4/5개
   [✓] RSI 35-55 구간 | [✓] RSI 상승중
   [✓] 거래량 1.2배+  | [✓] 가격>5일선
   [✗] 양봉 발생
============================================================
```

### 매수 체결

```
💹 [2025-10-10 14:23:35] 매수 체결!
   매수가: 85,450,000원 | 수량: 0.011685
   RSI: 45.8 | 거래량비: 1.42x
   목표: +3.0% | 손절: -2.0%
```

### 보유 중

```
[2025-10-10 14:23:45] 💎 보유중 | 수익률: +0.5% | 현재가: 85,877,000원 | RSI: 48.2
[2025-10-10 14:23:55] 💎 보유중 | 수익률: +1.2% | 현재가: 86,475,000원 | RSI: 52.7
[2025-10-10 14:24:05] 💎 보유중 | 수익률: +2.5% | 현재가: 87,586,000원 | RSI: 58.3
```

### 익절 실행

```
🟢 [2025-10-10 14:24:15] 익절 실행!
   매수가: 85,450,000원 → 현재가: 88,014,000원
   수익률: +3.00% | 수익액: +29,450원
```

### 통계 출력 (5분마다)

```
============================================================
📈 거래 통계 | 총 거래: 12회 | 승률: 75.0%
💰 총 수익: +215,340원 | 수익률: +21.53%
============================================================
```

---

## ⚠️ 중요 안내

### 모의 거래 vs 실제 거래

**현재는 모의 거래 모드입니다.** 실제 거래를 원하시면:

1. `main.py` 187~188번 라인 주석 해제
2. `.env` 파일에 실제 API 키 입력
3. 소액으로 테스트 후 운영

```python
# 실제 거래 활성화 (주석 제거)
upbit = pyupbit.Upbit(ACCESS_KEY, SECRET_KEY)
print("API 연결 성공 ✅")
```

### 리스크 고려사항

- 📉 **변동성**: 가상화폐는 변동성이 매우 높습니다
- 💸 **수수료**: 잦은 거래 시 수수료 누적
- 🔄 **슬리피지**: 실제 체결가는 시뮬레이션과 다를 수 있음
- 🌐 **API 제한**: 업비트 API 호출 제한 확인 필요
- 💰 **손실 가능**: 투자 원금 손실 가능성 존재

---

## 🎓 스캘핑 전략 이해하기

### 스캘핑이란?

**스캘핑(Scalping)**은 짧은 시간 내에 작은 가격 변동을 이용하여 수익을 추구하는 초단타 매매 전략입니다.

### 핵심 원칙

1. ⚡ **빠른 진입/청산**: 수분~수십분 내 거래 완료
2. 📊 **작은 수익 누적**: 1~3% 수익을 여러 번 실현
3. 🛡️ **엄격한 손절**: 손실을 최소화하는 것이 핵심
4. 📈 **높은 거래 빈도**: 하루 10~30회 거래
5. 💹 **변동성 활용**: 거래량이 많은 시간대 집중

---

## 🔧 개선 및 확장 아이디어

### 추가 가능한 기능

- [ ] 여러 코인 동시 모니터링
- [ ] 텔레그램 알림 기능
- [ ] 백테스팅 모드 (과거 데이터 검증)
- [ ] 머신러닝 기반 신호 강화
- [ ] 웹 대시보드 (실시간 차트)
- [ ] 다양한 전략 프리셋

---

## 📞 문의 및 기여

- 버그 리포트: Issue 등록
- 기능 제안: Pull Request 환영
- 전략 개선 아이디어 공유

---

## ⚖️ 면책 조항

이 프로그램은 **교육 및 연구 목적**으로 제공됩니다. 실제 투자에 사용할 경우 발생하는 모든 손실에 대해 개발자는 책임지지 않습니다. 투자 결정은 본인의 판단과 책임 하에 이루어져야 합니다.

**투자 경고**: 가상화폐 투자는 고위험 자산으로 원금 손실 가능성이 있습니다.

---

## 📚 참고 자료

- [Upbit API 문서](https://docs.upbit.com/)
- [PyUpbit 라이브러리](https://github.com/sharebook-kr/pyupbit)
- [기술적 분석 기초](https://www.investopedia.com/terms/t/technicalanalysis.asp)

---

## 📝 변경 이력

### v2.0 (2025-10-10) - 비트코인 최적화 🟠

#### 알고리즘 최적화

- ✅ **손절/익절 조정**: -1.5%/+2.0% → **-2.0%/+3.0%** (변동성 고려)
- ✅ **RSI 기준 완화**: 30-50 → **35-55** 매수, >75 → **>80** 매도
- ✅ **거래량 기준 완화**: 1.3배 → **1.2배** (유동성 반영)

#### 사용성 개선

- ✅ **실시간 모니터링**: 30초 → **10초**마다 상세 출력
- ✅ **조건 체크 표시**: 5가지 매수 조건 개별 상태 실시간 표시
- ✅ **RSI 상태 시각화**: 🔴과매수/🟢과매도/⚪중립 이모지 표시

#### 비트코인 특성 반영

- 📊 일일 변동성 3-5% 고려
- 📈 강한 트렌드 지속성 활용
- 💹 높은 유동성 환경 최적화

### v1.0 (2025-10-09) - 초기 스캘핑 전략

- ✅ 손절/익절 시스템 구축
- ✅ RSI + 이동평균 + 볼린저밴드 복합 지표
- ✅ 거래량 분석 추가
- ✅ 수수료 반영
- ✅ 통계 추적 기능

---

**Happy Trading! 📊💰**
