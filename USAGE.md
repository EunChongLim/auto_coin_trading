# μ‚¬μ© κ°€μ΄λ“

## β οΈ μ¤‘μ”: μ¬λΌμ΄λ”© μλ„μ° λ°©μ‹

**λ¨λ“  λ°±ν…μ¤νΈλ” μ¬λΌμ΄λ”© μλ„μ° λ°©μ‹μ„ μ‚¬μ©ν•©λ‹λ‹¤ (μ‹¤κ±°λμ™€ λ™μΌ)**

- μΌκ΄„ μ²λ¦¬ λ°©μ‹ (deprecated): λΉ„ν„μ‹¤μ  (+200% λ“±)
- μ¬λΌμ΄λ”© μλ„μ° λ°©μ‹: μ‹¤κ±°λμ™€ κ±°μ λ™μΌν• κ²°κ³Ό

## π“ λΉ λ¥Έ μ‹μ‘

### 1λ‹¨κ³„: λ¨λΈ ν•™μµ (2024λ…„ λ°μ΄ν„°)

```bash
python train_model_v3.py
```

- 2024λ…„ λ°μ΄ν„° 80μΌλ΅ ν•™μµ
- `model/lgb_model_v3.pkl` μƒμ„±

### 2λ‹¨κ³„: λ°±ν…μ¤νΈ (2025λ…„ κ²€μ¦)

```bash
python run_backtest.py month 2025 4
```

- μ¬λΌμ΄λ”© μλ„μ° λ°©μ‹ (μ‹¤κ±°λμ™€ λ™μΌ)
- `backtest_log_YYYYMM.txt` μƒμ„±

### 3λ‹¨κ³„: νλΌλ―Έν„° μµμ ν™” (μ„ νƒ)

```bash
python optimize_params_sliding.py
```

- μ¬λΌμ΄λ”© μλ„μ° λ°©μ‹μΌλ΅ μµμ  νλΌλ―Έν„° νƒμƒ‰
- 3κ° κΈ°κ°„ Γ— 108κ° μ΅°ν•© = 324ν λ°±ν…μ¤νΈ
- μμƒ μ†μ” μ‹κ°„: 2-3μ‹κ°„

### 4λ‹¨κ³„: μ‹¤μ „ κ±°λ

```bash
python main.py
```

- λ¨μ κ±°λ μ‹¤ν–‰
- `trading_log.txt`μ— κΈ°λ΅

---

## π”§ μ£Όμ” νμΌ

| νμΌ                  | μ„¤λ…      | μ‚¬μ© μ‹μ         |
| --------------------- | --------- | ---------------- |
| **main.py**           | μ‹¤μ „ κ±°λ | μ‹¤μ  λμΌλ΅ κ±°λ |
| **run_backtest.py**   | λ°±ν…μ¤νΈ  | μ „λµ κ²€μ¦        |
| **train_model_v3.py** | λ¨λΈ ν•™μµ | λ¨λΈ μ—…λ°μ΄νΈ    |

---

## π“ ν„μ¬ μ„¤μ • (v3.1)

### ν•™μµ

- **κΈ°κ°„**: 2024λ…„ μ „μ²΄ (80μΌ λλ¤)
- **λ¨λΈ**: LightGBM 3-Class
- **νΉμ§•**: 34κ° (λ©€ν‹° νƒ€μ„ν”„λ μ„)

### μ‹¤μ „ νλΌλ―Έν„°

```python
buy_threshold = 0.20   # Up ν™•λ¥  20% μ΄μƒ
sell_threshold = 0.50  # Down ν™•λ¥  50% μ΄μƒ (μ΅°κΈ° λ§¤λ„ λ°©μ§€)
stop_loss = 1.0%       # μ†μ 
take_profit = 1.5%     # μµμ 
```

### λ³€κ²½ μ΄λ ¥

- 2025-10-17: sell 0.35 β†’ 0.50 (μ‹¤μ „ μΉλ¥  32.6% β†’ κ°μ„ )
- 2025-10-17: ν•™μµ λ°μ΄ν„° 2025λ…„ β†’ 2024λ…„ (Data Leakage μ κ±°)

---

## β οΈ μ£Όμμ‚¬ν•­

### λ°±ν…μ¤νΈ vs μ‹¤μ „

- λ°±ν…μ¤νΈ: λΉ„ν„μ‹¤μ  λ†’μ€ μμµλ¥  (μ „μ•΅ ν¬μ + λ³µλ¦¬)
- μ‹¤μ „: λ°±ν…μ¤νΈμ 10-20% μ •λ„κ°€ ν„μ‹¤μ 
- **μ‹¤μ „ κ±°λ λ΅κ·Έλ¥Ό λ” μ‹ λΆ°ν•μ„Έμ”!**

### Data Leakage λ°©μ§€

- β… ν•™μµ: 2024λ…„
- β… λ°±ν…μ¤νΈ: 2025λ…„
- β… μ‹¤μ „: ν„μ¬ (2025λ…„ 10μ›”)
